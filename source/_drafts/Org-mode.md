title: Org-mode
tags:
  - Emacs
  - Org-mode
categories:
  - Emacs
date: 2016-01-25 17:54:25
---

emacs Org-mode学习笔记。emacs24 自带了org-mode，不需要手动安装，所以，直接用起来吧！我会持续更新这篇博客
<!--more-->
## 文法部分
### 标题
org-mode使用`*`来标识标题，一个`*`代表一级标题，两个代表二级标题，依次类推，最多十级标题
```
* 一级标题
** 二级标题
...
```
`S-Tab` ： 展开/折叠所有章节;
`Tab` ： 展开/折叠光标所在的章节;
`M-left/right` ： 升/降标题层级;
`C-c C-n` ： 下一个标题
`C-c C-p` ： 上一个标题
`C-c C-f` ： 下一个同级标题
`C-c C-b` ： 上一个同级标题
`C-c C-u` ： 上一层标题

`M-<Return>` ： 插入同级标题
`M-S-<Return>` ： 插入一个和同级标题级别一样的TODO项
`<Tab>` ： 如果条目中文字是空的，那么会调节该项到合适的级别
`M-Left/Right` ： 将当前标题提升/降低一个级别（子标题级别不变）
`M-S-Left/Right` ： 将当前标题提升/降低一个级别（子标题跟着改变）
`M-S-Up/Down` ： 将标题子树上/下移动
`C-c C-w` ： 将条目或区域传送到另一个文件中
`C-x n s/w` ： 将缓冲区中视图局限到当前子树/再次放宽视图

#### 树视图
org-mode允许根据不同的要求显示树内容
`C-c /` ： 再次输入一个字符来选择树的创建命令
`C-c C-c` ： 取消高亮显示

### 列表
有序列表由`1.`/`1）`开头，无序列表由`+`/`-`开头，描述列表用`::`将项和描述分隔开
在输入列表时，我们可以使用`M-Return`来自动输入一个同级列表，还可以使用`M-left/right`来调整列表的层级
`M-S-Return` ： 输入一个带checkbox的列表，在总任务上可以用`[/]`/`[%]`来查看总任务的进度
`C-c C-c` ： 改变checkbox的状态
`M-Up/Down` ： 上移/下移列表
`M-S-Up/Down` ： 将当前项和子项上/下移动
`M-S-Left/Right` ： 提升/降低项的缩进，包括子项
`C-c -` : 循环改变当前列表的标识符号。etc：- + * 1) 

### 脚注
使用`[fn:1]`插入脚注，在文末使用,注意：脚注要求放在第0列
```
[fn:1]本文参考至http://orgmode.org/orgguide.pdf
```
`C-c C-x f` ：当光标在脚注或者定义上时，使用这个命令会跳转到对应的定义或者脚注上。其他情况下，新建一个脚注。
`C-c C-c ` ： 在定义和脚注之间跳转

### 表格
org-mode提供了强大的表格操作，往下看
创建表格：
输入表头
```
|name|age|PhoneNumber|sub1|sub2|total|
|-
```
在第二行输入一个`<Tab>`org-mode将创建一个表格
```
| name | age | PhoneNumber | sub1 | sub2 | total |
|------+-----+-------------+------+------+-------|
|      |     |             |      |      |       |
```
现在可以在表格里面填入一些数据，在填入数据的过程中`<Tab>`是跳到右一个单元`<Return>`是跳到下个单元格，按住`<Shift><Tab>`则是反向的跳转,而`<Shift><Return>`则是向下一个单元格并填充数据
在输入过程中单元格是可以自动对齐的，如果没有那么可以使用`C-c C-c`来对齐单元格
```
| name     | age | PhoneNumber  | sub1 | sub2 | total |
|----------+-----+--------------+------+------+-------|
| ChenXiyu |  22 | 158********* | 89   | 98   |       |
| cxy      |  21 | 123********* | 98   | 100  |       |
```
我们还有一个total没有输入，total=sub1+sub2，表格函数可以用来做这个事，是不是有点像office那套东西？
在total任意一个单元格里面输入`=$3+$4`然后`C-u C-c C-c`,total单元格将被补全
```
| name     | age | PhoneNumber  | sub1 | sub2 | total |
|----------+-----+--------------+------+------+-------|
| ChenXiyu |  22 | 158********* |   89 |   98 |   187 |
| cxy      |  21 | 123********* |   98 |  100 |   198 |
#+TBLFM: $6=$4+$5
```
要插入一行可以直接兴起一行，然后输入一个`|`按下`<Tab>`来新开一行表格
要插入一列可以在表头输入名字加`|`或者直接写`|`然后按下`<Tab>`来新开一列
另外一些快捷键：
`C-c |` ： 输入行列插入一个表格（4X5）
`C-c C-c` ： 表格对齐
`M-Up/Down/Right/Left` ： 上/下/右/左移动行/列
`M-S-Up/Left` ： 减少行/列
`M-S-Down/Right` ： 增加行/列
`C-c -` : 在当前行下面添加水平线
`C-c <Return>` ：在当前行下面添加水平线，并且移动到下一行
`C-c ^` ： 将表排序，当前位置的列为排序依据

### 链接
可以是超链接或者是图片链接，格式是：`[[link][description]]`/`[[link]]`
如果是图片的话可以直接使用`[[link]]`
`C-c C-x C-v` ： 显示图片，默认情况下图片是不再编辑器里面显示的，只有导出pdf等文件时才显示，可以使用这个命令来开启图片显示。
在输入完成后，Org会改变它的视图，如果想要编辑该链接，需要使用`C-c C-l`,或者直接使用<DEl>来删除一个括号来编辑。

内部链接（锚？）
直接在link处写目标名称，点击链接就能跳转到目标处
`C-c C-l` ： 插入或者修改一个链接
`C-c C-o` ： 打开链接
`C-c &` ： 跳回一个已经记录的地址，使用`C-c %`可以将地址记录下来，
文件链接还可以包含一些其他的东西，使得在跳转到链接的时候可以到达特定的位置。比如说行号，搜索选项等
```
file:~/code/main.c::255	   跳转到255行
file:~/xx.or::MyTarget	   跳到MyTarget目标
```
### TODO
使用`C-c C-t`可以在标题/TODO/DONE之间切换，比如：
```
* 背单词
```
这里有个一级标题，光标移动到这一行，输入`C-c C-t`，这一行变成了：
```
* TODO 背单词
```
再次输入`C-c C-t`，变成了：
```
* DONE 背单词
```
而且，颜色也变了哦，好用吧
`C-c C-t` ： 让标题在TODO/DONE/Title之间切换
`S-M-<Return>` ： 插入同级TODO list

### 多状态工作流
org-mode允许自定义状态，默认的todo list 只有todo 和 done ，你可以自定义这些状态，而使用方法和todolist一毛一样，自己去看org-mode文档0-0

### 标签
可以给Title加标签，使用`C-c C-q`来给标题加标签，子标题继承父标题的标签
使用`C-c /` 来查看不同树结构

### 时间
`C-c .`可以调出一个日历，用来选择日期插入。可以在时间前加上`DEADLINE`/`SCHEDULED`标签
`C-c !`插入一个未激活的时间
`C-c C-d`插入一个DEADLINE时间
`C-c C-s`插入一个SCHEDULED时间
### 文本标记
```
*Blod*               加粗
/italic/             斜体
_underline_          下划线
=code=               代码引用
+strike-through+     删除线
```
	
